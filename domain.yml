version: '3.1'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
  
intents:
- affirm
- thanks
- comentarios
- consejo_de_barrio
- debate
- demo
- deny
- discoverability
- encuentros
- farewell
- give_neighborhood
- greet
- iniciativas_ciudadanas
# - ofrecer_location
- organos_de_participacion
- presupuesto
- procesos_participativos
- propuestas
- quien_eres
# - sign_in
- whereami
# - request_location_form
- retrieve_proceso_participativo
# - retrieve_debates
# - retrieve_budgets
# - retrieve_surveys
# - retrieve_proposals
# - retrieve_proceso_participativo_location
# - retrieve_debates_location
# - retrieve_budgets_location
# - retrieve_surveys_location
# - retrieve_proposals_location
- debate_in_participatory_process
- meeting_in_participatory_process
- proposals_in_participatory_process
- budgets_in_participatory_process
- inciate_conv
- give_name
- quien_puede_participar
- como_puedo_participar
- decidim
- change_context
- discoverability_conceptos
- discoverability_extended
- signIn

entities:
- neighborhood_location
- user_name
- context
- link:
    influence_conversation: false

slots:

  neighborhood_location:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: neighborhood_location

  context:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: context

  # new_neighborhood_location:
  #   type: text
  #   influence_conversation: true
  #   mappings:
  #    - type: custom

  actual_slug_PP:
    type: text
    influence_conversation: false
    mappings:
     - type: custom

  # interest:
  #   type: list
  #   influence_conversation: false
  #   mappings:
  #    - type: custom

  user_name:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: user_name

# forms:
#   simple_location_form:
#     required_slots:
#     - neighborhood_location

responses:
  utter_greet:
  - text: |
      Hola, como puedo ayudarte?
  - text: Hola, en que puedo ayudarte?
  - text: Hola!
  - text: Holaa!
  utter_farewell:
  - text: |
      Adeu!
  - text: Adios! Hasta la proxima!
  - text: Genial. Cualquier cosa estoy por aqui!
  - text: Nos vemoos! No dudes en preguntarme.
  utter_yourwelcome:
  - text: |
      De nada!
  - text: No hay problema!

  utter_inform:
  - text: |
      Esta es la pagina oficial de Decidim Barcelona, en ella podrás ver los diferentes procesos que se están llevando acabo, participar en diferentes debates, ver presupuestos... Te aconsejo que te registres antes de nada.       
  # utter_discoverability:
  # - text: Holaa! Si necesitas ayuda me puedes preguntar sobre procesos participativos, conceptos de la web que no entiendas... Y más cosas! Estoy a tu disposición!
  utter_quien_eres:
  - text: Me llamo Sara, soy una IA a tu servicio. Te ayudaré en lo que necesites en Decidim Barcelona. 

  utter_greet_and_ask_name:
  - text: "Hola, Soy Sara, el chatbot de Decidim BCN. Estoy aquí para ayudarte en el ambito de los procesos participativos. Comó te llamas?"


  utter_wait:
  - text: Por favor espere un segundo
  - text: Un momento, por favor
  - text: Claro, un segundo
  - text: Claro, un momento

  utter_give_link:
  - text: 'Si te interesa aqui tienes el enlace: {link}'
  - text: 'Aqui tienes el enlace: {link}'

  utter_signIn:
  - text: |
     Para registrarte o iniciar sesion haz click en sus respectivos botones en la parte superior de la web
     Posteriormente rellena los datos que te pidan. Te aconsejo iniciar sesion con Google, es mas rapido y cómodo

  utter_decidim:
  - text: Decidim es...
  utter_procesos_participativos:
  - text: Los procesos participativos son una serie de *encuentros* delimitados en un tiempo concreto para promover el debate y el contraste de argumentos.
    buttons:
    - title: Definicion de encuentros
      payload: /encuentros
  utter_organos_de_participacion:
  - text: 'Los órganos de participación son canales de encuentro de los *procesos participativos* '
    buttons:
    - title: Definicion de procesos participativos
      payload: /procesos_participativos
  utter_iniciativas_ciudadanas:
  - text: Las iniciativas ciudadanas es el medio que tiene la ciudadanía para promover a través de la recogida de firmas, que el Ayuntamiento lleve a cabo una determinada acción de interés colectivo.
  utter_debate:
  - text: Un debate es un espacios digital para informarte y decidir sobre las *propuestas* de cada *proceso participativo*.
    buttons:
    - title: Definicion de propuestas
      payload: /propuestas
    - title: Definicion de procesos participativos
      payload: /procesos_participativos
  utter_encuentros:
  - text: Los encuentros son reuniones cara a cara vinculados a los *procesos participativos* de cada territorio o ámbito.
    buttons:
    - title: Definicion de procesos participativos
      payload: /procesos_participativos
  utter_propuestas:
  - text: Las propuestas son contribuciones de los participantes que pueden recibir el apoyo de los usuarios con función decisoria.
  utter_presupuesto:
  - text: Un presupuesto es un cálculo anticipado del coste de una obra o un servicio.
  utter_consejo_de_barrio:
  - text: Los consejos de barrio son *órganos para la participación* de los vecinos en el desarrollo de la ciudad basados en la división territorial del término municipal en barrios.
    buttons:
    - title: Definicion de organos de participacion
      payload: /organos_de_participacion
  utter_comentarios:
  - text: Los comentarios son contribuciones de los usuarios al hilo de una *propuesta* o debate y que pueden recibir una votación negativa o positiva.
    buttons:
    - title: Definicion de propuestas
      payload: /propuestas


  utter_quien_puede_participar:
  - text: Pueden participar...
  utter_como_puedo_participar:
  - text: Puedes participar..


  utter_remember_location:
  - text: "Recordaré ese barrio"
    condition:
        - type: slot
          name: neighborhood_location

        
  - text: Recordaré eso



  # utter_submit:
  # - text: Recordaré esa localizacion
  # utter_neighborhood_location_slots:
  # - text: Te interesa procesos participativos de {neighborhood_location}.
  # utter_ask_continue:
  # - text: Seguro que quieres parar?
  # utter_ask_neighborhood_location:
  # - text: Que localizacion te interesa?

  # utter_change_location:
  # - text: Pensaba que te interesaba {neighborhood_location}, prefieres el último que mencionaste? {new_neighborhood_location}.
  #   buttons:
  #   - title: "Si"
  #     payload: /affirm
  #   - title: "No"
  #     payload: /deny

  utter_discoverability:
  - text: "Hola {user_name}, puedes preguntarme, entre otras cosas sobre:"
    buttons:
    - title: "Qué es decidim?"
      payload: /decidim
    - title: "Quien puede participar en los procesos participativos?"
      payload: /quien_puede_participar
    - title: "Cómo se participa?"
      payload: /como_puedo_participar
    - title: "Otros.."
      payload: /discoverability_extended

  utter_discoverability_extended:
  - text: "Tambien puedes preguntarme sobre:"
    buttons:
    - title: "Conceptos de la web"
      payload: /discoverability_conceptos
    - title: "Cómo me registro?"
      payload: /signIn
  #  - text: | 
  #           "Tambien puedes preguntarme sobre:"
  #           "Conceptos de la web:"
  #           "Como me registro"

  utter_discoverability_conceptos:
  - text: "Estos son algunos de los conceptos que tal vez no entiendas. Pero puedes preguntarme cualquier otro que veas en la web:"
    buttons:
    - title: "Organos de Participacion"
      payload: /organos_de_participacion
    - title: "Iniciativas Ciudadanas"
      payload: /iniciativas_ciudadanas 
    - title: "Consejo de Barrio"
      payload: /consejo_de_barrio  


  utter_offer_proceso_participativo:
  - text: Quieres que te busque algun proceso participativo interesante?
    buttons:
    - title: "Si"
      payload: /affirm
    - title: "No"
      payload: /deny
      
  # utter_suggest_location:
  # - text: Tambien me puedes pedir procesos de un lugar en concreto. O dime que barrio te interesa e intentaré buscar para la proxima.
  # - text: "Escoge:"
  #   buttons:
  #   - title: "Sants"
  #     payload: '/give_neighborhood{{"neighborhood_location":"Sants"}}'
  #   - title: "Horta"
  #     payload: '/give_neighborhood{{"neighborhood_location":"Horta"}}'


  utter_default:
  - text: "Lo siento. No te he entendido.. Intenta reformular la frase. Tambien puedes visitar el link https://www.decidim.barcelona/pages?locale=es"
  utter_ask_rephrase:
  - text: "No te he entendido, por favor vuelve a escribir la frase de otra forma"


actions:
- '...'
# - action_go_to_page
# - action_go_to_sign_in
# - action_picker
# - action_return_debates
# - action_user_info
# - action_yes_no
- utter_farewell
- utter_greet
- utter_inform
# - utter_neighborhood_location_slots
# - utter_submit
# - utter_subscribed
# - action_latest_procesos_participativos
# - action_latest_Debate
# - action_latest_Survey
# - action_latest_Budget
# - action_latest_Proposal
# - action_procesos_participativos_location
# - action_debate_location
# - action_surveys_location
# - action_budget_location
# - action_proposal_location
# - validate_simple_location_form
- action_validar_neighbor
# - action_change_neighbor
- action_procesos_participativos
- action_mirar_en_proceso_participativo
- utter_greet_and_ask_name
# - utter_suggest_location
- action_show_context_and_id