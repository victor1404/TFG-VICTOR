version: '3.1'

stories:

# GREET
  - story: greet and discoverability
    steps:
    - intent: greet
    - action: utter_greet
    - intent: discoverability
    - action: utter_discoverability

  - story: greet and discoverability2
    steps:
    - intent: greet
    - action: utter_greet
    - intent: quien_eres
    - action: utter_quien_eres
    - intent: discoverability
    - action: utter_discoverability



# USER LOGGED
  - story: User not logged HELLO
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "LOGGED"
    - action: utter_welcome_back


# USER NOT LOGGED

 # INICIO DE CONVERSACION
  - story: First message and give neighbor and ask for pp
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo

  - story: First message and give neighbor and ask for pp SAD PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_neighborhood
    - action: action_validar_neighbor
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Sants"
    - action: action_validar_neighbor
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo

  - story: First message and give neighbor and ask for pp 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo


      
  - story: First message ask for pp and give neighbor
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor
      
  - story: First message ask for pp and give neighbor SAD PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo
    - intent: give_neighborhood
    - action: action_validar_neighbor
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Sants"
    - action: action_validar_neighbor

  - story: First message ask for pp and give neighbor 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: retrieve_proceso_participativo
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor


 # QUIEN PUEDE PARTICIPAR
  - story: First message and quien puede participar HAPPY PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: quien_puede_participar
    - action: utter_quien_puede_participar
    - action: utter_offer_proceso_participativo
    - intent: affirm
    - action: utter_suggest_location
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_procesos_participativos
    
  - story: First message and quien puede participar HAPPY PATH 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: quien_puede_participar
    - action: utter_quien_puede_participar
    - action: utter_offer_proceso_participativo
    - intent: affirm
    - action: utter_suggest_location
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_procesos_participativos
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor


  - story: First message and quien puede participar SAD PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: quien_puede_participar
    - action: utter_quien_puede_participar
    - action: utter_offer_proceso_participativo
    - intent: deny
    - action: utter_farewell
    
  - story: First message and quien puede participar SAD PATH 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: quien_puede_participar
    - action: utter_quien_puede_participar
    - action: utter_offer_proceso_participativo
    - intent: deny
    - action: utter_farewell
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor


 # COMO PUEDE PARTICIPAR
  - story: First message and como puedo participar HAPPY PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: como_puedo_participar
    - action: utter_como_puedo_participar
    - action: utter_offer_proceso_participativo
    - intent: affirm
    - action: utter_suggest_location
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_procesos_participativos


  - story: First message and como puedo participar HAPPY PATH 2 
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: como_puedo_participar
    - action: utter_como_puedo_participar
    - action: utter_offer_proceso_participativo
    - intent: affirm
    - action: utter_suggest_location
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_procesos_participativos
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor

  - story: First message and como puedo participar SAD PATH
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: como_puedo_participar
    - action: utter_como_puedo_participar
    - action: utter_offer_proceso_participativo
    - intent: deny
    - action: utter_farewell

  - story: First message and como puedo participar SAD PATH 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: como_puedo_participar
    - action: utter_como_puedo_participar
    - action: utter_offer_proceso_participativo
    - intent: deny
    - action: utter_farewell
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor

   
 # QUE ES DECIDIM
  - story: First message and que es decidim
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: decidim
    - action: utter_decidim

  - story: First message and que es decidim 2
    steps:
    - intent: inciate_conv
      entities:
      - user_logged: "NOT_LOGGED"
    - action: utter_greet_and_ask_name
    - intent: give_name
      entities:
      - user_name: "Victor"
    - action: utter_discoverability
    - intent: decidim
    - action: utter_decidim
    - intent: give_neighborhood
      entities:
      - neighborhood_location: "Horta"
    - action: action_validar_neighbor



# STORES PARTICIPATIVE PROCESS
  - story: ask for PP
    steps:
    - intent: greet
    - action: utter_greet
    - intent: retrieve_proceso_participativo
    - slot_was_set:
      - actual_slug_PP: neighborhood_location
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo


  - story: ask for PP wrong first
    steps:
    - intent: greet
    - action: utter_greet
    - intent: retrieve_proceso_participativo
      entities:
      - neighborhood_location: Virrei Amat
    - action: action_procesos_participativos
    - intent: retrieve_proceso_participativo
      entities:
      - neighborhood_location: Horta
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: cuidemhortaguinardo

  - story: ask for PP and ask for components in PP
    steps:
    - intent: greet
    - action: utter_greet
    - intent: discoverability
    - action: utter_discoverability
    - intent: retrieve_proceso_participativo
      entities:
      - neighborhood_location: Horta
    - action: action_procesos_participativos
    - slot_was_set:
      - actual_slug_PP: interiorsdillaGuineueta
    - intent: debate_in_participatory_process
    - action: action_mirar_en_proceso_participativo
    - intent: proposals_in_participatory_process
    - action: action_mirar_en_proceso_participativo
    - intent: meeting_in_participatory_process
    - action: action_mirar_en_proceso_participativo


